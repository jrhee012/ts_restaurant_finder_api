<!-- views/partials/pagination.ejs -->
<% if (page && page.endPage && page.endPage > 0) { %>
<nav class="pagination-nav" id="pagination-nav-tag">
    <ul class="pagination">
        <% console.log(page) %>
        <% if (page.currentPage == 1) { %>
        <li class="page-item disabled">
            <a class="page-link" href="#" tabindex="-1">First</a>
        </li>
        <% } else { %>
        <li class="page-item">
            <a class="page-link" href="?page=1">First</a>
        </li>
        <% } %>
        <% function startPage(c, s) { %>
        <%     if (c - 4 >= s) { %>
        <%         return c - 4 %>
        <%     } else { %>
        <%         return s %>
        <%     } %>
        <% } %>
        <% function endPage(c, e) { %>
        <%     if (c + 4 <= e) { %>
        <%         return c + 4 %>
        <%     } else { %>
        <%         return e %>
        <%     } %>
        <% } %>
        <% for (let i = startPage(page.currentPage,page.startPage); i <= endPage(page.currentPage,page.endPage); i++) { %>
        <% if (i == page.currentPage) { %>
        <li class="page-item active">
            <a class="page-link" href="?page=<%= i %>"><%= i %></a>
        </li>
        <% } else { %>
        <li class="page-item">
            <a class="page-link" href="?page=<%= i %>"><%= i %></a>
        </li>
        <% } %>
        <% } %>
        <% if (page.currentPage == page.endPage) { %>
        <li class="page-item disabled">
            <a class="page-link">Last</a>
        </li>
        <% } else { %>
        <li class="page-item">
            <a class="page-link" href="?page=<%= page.totalPages %>">Last</a>
        </li>
        <% } %>
    </ul>
</nav>
<% } %>